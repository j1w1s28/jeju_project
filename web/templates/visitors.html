<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> Visitors </title>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script> -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
<canvas id="chart" width="250" height="250"></canvas>
</head>
<body>
<div style="width:500px;">
	<canvas id="canvas"></canvas>
</div>
<script>
var x = []
var y = []
'{% for i in range(0,result[1])%}'
x.push('{{result[0][i]["기준년월"]|tojson}}');
y.push(Number('{{result[0][i]["전체방문자(a+b+c)"]|tojson}}'));
'{% endfor %}'

new Chart(document.getElementById("canvas"), {
    type: 'line',
    data: {
        labels: x,
        datasets: [{
            label: '총 방문객',
            data: y,
            borderColor: "rgba(255, 201, 14, 1)",
            backgroundColor: "rgba(255, 201, 14, 0.5)",
            fill: true,
            lineTension: 0
        }]
    },
    options: {
        responsive: true,
        title: {
            display: true,
            text: '제주도 방문객'
        },
        tooltips: {
            mode: 'index',
            intersect: false,
        },
        hover: {
            mode: 'nearest',
            intersect: true
        },
        scales: {
            xAxes: [{
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: '기준년월'
                }
            }],
            yAxes: [{
                display: true,
                //ticks: {
                //    suggestedMin: ,
                //},
                scaleLabel: {
                    display: true,
                    labelString: '전체방문자'
                }
            }]
        }
    }
});


</script>
</body>
</html>